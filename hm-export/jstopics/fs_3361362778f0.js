hmLoadTopic({
hmKeywords:"",
hmTitle:"Beispiel für ein Prerequisite-Skript zum Prüfen von Datenschutz-Zwecken",
hmDescription:"Mit dem folgenden Beispiel-Code für ein Prerequisite-Skript wird geprüft, ob die Stammdaten für die Datenschutz-Zwecke „FoM“ (mit laufender Nummer 0) und „Inso9“ (mit laufender...",
hmPrevLink:"fs_a684a04e034a.html",
hmNextLink:"fs_50463acdbe7b.html",
hmParentLink:"fs_a684a04e034a.html",
hmBreadCrumbs:"<a href=\"fs_11ed2b9082ce.html\">Bedingungsprüfung und Vor- und Nachbereitung per Ereignisskript beim Transport<\/a> &gt; <a href=\"fs_a684a04e034a.html\">Programmiermöglichkeiten in Transportkontrollskripten<\/a>",
hmTitlePath:"Bedingungsprüfung und Vor- und Nachbereitung per Ereignisskript beim Transport > Programmiermöglichkeiten in Transportkontrollskripten > Beispiel für ein Prerequisite-Skript zum Prüfen von Datenschutz-Zwecken",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-inside: avoid;\"><span class=\"f_Heading1\">Beispiel für ein Prerequisite-Skript zum Prüfen von Datenschutz-Zwecken<\/span><\/h1>\n\r",
hmBody:"<p class=\"p_Normal\" style=\"page-break-inside: avoid;\">Mit dem folgenden Beispiel-Code für ein Prerequisite-Skript wird geprüft, ob die Stammdaten für die Datenschutz-Zwecke „FoM“ (mit laufender Nummer 0) und „Inso9“ (mit laufender Nummer 23) im Zielsystem bereits vorhanden sind.<\/p>\n\r<p class=\"p_Normal\" style=\"page-break-inside: avoid;\">Der Transport wird nur durchgeführt, wenn beide Zwecke mit genau diesen Wertkombinationen bereits vorhanden sind (es werden Info-Protokolleinträge geschrieben, dass die Zwecke vorhanden sind). Falls einer fehlt oder die Werte in anderen Kombinationen existieren, werden Fehler-Protokolleinträge geschrieben und der Transport wird verhindert.<\/p>\n\r<p class=\"p_UeberschriftEinfach_Gross\" style=\"page-break-inside: avoid; page-break-after: avoid; border-top: none; border-right: none; border-left: none;\"><span class=\"f_UeberschriftEinfach_Gross\">Beispiel-Code für Prerequisite-Skript<\/span><\/p>\n\r<p class=\"p_Quellcode_OhneFarbe\" style=\"page-break-inside: avoid;\"><span class=\"f_Quellcode_OhneFarbe\">\/* provide the info about the purposes required for the transported artefacts<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\">Note: package contents can not be read in Custom Code in a generic way.<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\">Hence, the individual data must be stated in the script<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\">*\/<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\">const requiredDataProtectionPurposes = [{serialNo: 0, code: \'FoM\'}, {serialNo: 21, code: \'Sicher\'}];<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\">const purposesInTargetSystem = linq.execute(\'from purpose in @DpPurpose select new { serialNo = purpose.serialNo, code = purpose.code }\').toList();<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\">let requiredPurposesInTargetSystem;<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\">&nbsp;<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\">requiredDataProtectionPurposes.forEach(function(purposeInfo){<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\"> &nbsp; const requiredPurposesInTargetSystem = purposesInTargetSystem.filter(purpose =&gt; purpose.serialNo === purposeInfo.serialNo<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\"> &nbsp; &nbsp; &nbsp;|| purpose.code.toLowerCase() === purposeInfo.code.toLowerCase());<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\"> &nbsp; if (requiredPurposesInTargetSystem.length === 1) {<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\"> &nbsp; &nbsp; &nbsp;if (requiredPurposesInTargetSystem.elementAt(0).code.toLowerCase() === purposeInfo.code.toLowerCase() &amp;&amp; requiredPurposesInTargetSystem.elementAt(0).serialNo === purposeInfo.serialNo) {<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\"> &nbsp; &nbsp; &nbsp; &nbsp; trms.reportInfo(`The data protection purpose &quot;\${purposeInfo.code}&quot; with serial number \${purposeInfo.serialNo} already exists in the target system.`);<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\"> &nbsp; &nbsp; &nbsp;} else {<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\"> &nbsp; &nbsp; &nbsp; &nbsp; trms.reportError(\'The target system already contains a data protection purpose with the serial number &quot;\' <\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\"> &nbsp; &nbsp; &nbsp; &nbsp; + purposeInfo.serialNo + \'&quot; or the code &quot;\' + purposeInfo.code + &nbsp;<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\"> &nbsp; &nbsp; &nbsp; &nbsp; \'&quot;. However, the combination is not unique!\');<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\"> &nbsp; &nbsp; &nbsp;}<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\"> &nbsp; } else if(requiredPurposesInTargetSystem.length === 0) {<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\"> &nbsp; &nbsp; &nbsp; &nbsp; trms.reportError(\'The required data protection purpose entries do not exist in the target system.\');<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\"> &nbsp; } else if(requiredPurposesInTargetSystem.length &gt; 1) {<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\"> &nbsp; &nbsp; &nbsp; &nbsp; trms.reportError(\'The data protection purpose &quot;\' + purposeInfo.code + \'&quot; or the serial number \' + purposeInfo.serialNo + \' were found. However, the combination is not unique!\');<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\"> &nbsp; }<\/span><br \/>\n\r<span class=\"f_Quellcode_OhneFarbe\">});<\/span><\/p>\n\r"
})
