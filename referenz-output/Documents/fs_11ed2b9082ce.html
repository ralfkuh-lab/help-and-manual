<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Bedingungsprüfung und Vor- und Nachbereitung per Ereignisskript beim Transport</title>
<meta charset="utf-8" /><link rel="stylesheet" type="text/css" href="../LinksExt/TRMS.css" />
<script src="../js/nethelp.redirector.js" type="text/javascript"></script>
<link rel="prev" href="fs_52ee3b02ee67.html" /><link rel="next" href="fs_a684a04e034a.html" />
<meta name="Generator" content="Doc-To-Help v.6.0.0.7152" />
</head>
<body data-c1-topic-id="7eadb447-2664-4f8c-891f-a6346094c3db">
<h1 style="tab-stops: 0pt"><a name="_Ref84068972" id="_Ref84068972">Bedingungsprüfung und Vor- und 
Nachbereitung per Ereignisskript beim Transport</a></h1>
<div style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 1pt; PADDING-TOP: 0pt; PADDING-LEFT: 0pt; BORDER-LEFT: medium none; MARGIN: 9pt 14.2pt 3pt 0pt; PADDING-RIGHT: 0pt">
<p class="berschriftEinfachGross" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">Hintergrund</p></div>
<p class="MsoNormal">In jedem Paket, Change und Change Set können drei 
verschiedene sogenannte „Transportkontrollskripte“ hinterlegt sein: 
„Prerequisite“, „Initialisierung“ und „Finalisierung“</p>
<p class="MsoNormal">Alle drei müssen in Custom Code programmiert sein. Deren 
Quellcode wird an das IKAROS-Zielsystem übergeben und dort einmalig ausgeführt. 
Die Möglichkeiten in Custom Code sind bei allen dreien identisch, sie 
unterscheiden sich lediglich beim Zeitpunkt, an dem sie während des 
Transportprozesses ausgeführt werden (und dadurch, ob sie das Installieren von 
Artefakten abbrechen können):</p>
<table class="TabelleKopfObenBigTables" style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-COLLAPSE: collapse; BORDER-BOTTOM: medium none; MARGIN-LEFT: 5.65pt; BORDER-LEFT: medium none" cellspacing="0" cellpadding="0" border="1">
  <thead>
  <tr>
    <td style="BORDER-TOP: gray 1pt solid; BORDER-RIGHT: gray 1pt solid; BACKGROUND: #4f81bd; BORDER-BOTTOM: gray 1pt solid; PADDING-BOTTOM: 2.85pt; PADDING-TOP: 2.85pt; PADDING-LEFT: 5.4pt; BORDER-LEFT: gray 1pt solid; PADDING-RIGHT: 5.4pt" valign="top">
      <p class="MsoNormal" style="TEXT-ALIGN: center" align="center"><b><span style="COLOR: white">Reihen-folge</span></b></p></td>
    <td style="BORDER-TOP: gray 1pt solid; BORDER-RIGHT: gray 1pt solid; BACKGROUND: #4f81bd; BORDER-BOTTOM: gray 1pt solid; PADDING-BOTTOM: 2.85pt; PADDING-TOP: 2.85pt; PADDING-LEFT: 5.4pt; BORDER-LEFT: medium none; PADDING-RIGHT: 5.4pt" valign="top">
      <p class="MsoNormal" style="TEXT-ALIGN: center" align="center"><b><span style="COLOR: white">Name</span></b></p></td>
    <td style="BORDER-TOP: gray 1pt solid; BORDER-RIGHT: gray 1pt solid; BACKGROUND: #4f81bd; BORDER-BOTTOM: gray 1pt solid; PADDING-BOTTOM: 2.85pt; PADDING-TOP: 2.85pt; PADDING-LEFT: 5.4pt; BORDER-LEFT: medium none; PADDING-RIGHT: 5.4pt" valign="top">
      <p class="MsoNormal" style="TEXT-ALIGN: center" align="center"><b><span style="COLOR: white">Ausführungszeitpunkt</span></b></p></td>
    <td style="BORDER-TOP: gray 1pt solid; BORDER-RIGHT: gray 1pt solid; BACKGROUND: #4f81bd; BORDER-BOTTOM: gray 1pt solid; PADDING-BOTTOM: 2.85pt; PADDING-TOP: 2.85pt; PADDING-LEFT: 5.4pt; BORDER-LEFT: medium none; PADDING-RIGHT: 5.4pt" valign="top">
      <p class="MsoNormal" style="TEXT-ALIGN: center" align="center"><b><span style="COLOR: white">Besonderheit</span></b></p></td></tr></thead>
  <tbody>
  <tr>
    <td style="BORDER-TOP: medium none; BORDER-RIGHT: #a6a6a6 1pt solid; BORDER-BOTTOM: #a6a6a6 1pt solid; PADDING-BOTTOM: 2.85pt; PADDING-TOP: 2.85pt; PADDING-LEFT: 5.4pt; BORDER-LEFT: #a6a6a6 1pt solid; PADDING-RIGHT: 5.4pt" valign="top">
      <p class="MsoNormal">1</p></td>
    <td style="BORDER-TOP: medium none; BORDER-RIGHT: #a6a6a6 1pt solid; BORDER-BOTTOM: #a6a6a6 1pt solid; PADDING-BOTTOM: 2.85pt; PADDING-TOP: 2.85pt; PADDING-LEFT: 5.4pt; BORDER-LEFT: medium none; PADDING-RIGHT: 5.4pt" valign="top">
      <p class="MsoNormal">Prerequisite-Skript</p></td>
    <td style="BORDER-TOP: medium none; BORDER-RIGHT: #a6a6a6 1pt solid; BORDER-BOTTOM: #a6a6a6 1pt solid; PADDING-BOTTOM: 2.85pt; PADDING-TOP: 2.85pt; PADDING-LEFT: 5.4pt; BORDER-LEFT: medium none; PADDING-RIGHT: 5.4pt" valign="top">
      <p class="MsoNormal">Wird vor den anderen Skripten ausgeführt, nachdem das 
      Artefakt-Paket im Zielsystem angekommen ist und bevor der 
      Installationsprozess beginnt.</p></td>
    <td style="BORDER-TOP: medium none; BORDER-RIGHT: #a6a6a6 1pt solid; BORDER-BOTTOM: #a6a6a6 1pt solid; PADDING-BOTTOM: 2.85pt; PADDING-TOP: 2.85pt; PADDING-LEFT: 5.4pt; BORDER-LEFT: medium none; PADDING-RIGHT: 5.4pt" valign="top">
      <p class="MsoNormal">Kann den Transport abbrechen und die 
      Artefakt-Installation verhindern (s. Kapitel mit ID „fs_11ed2b9082ce“ in 
      der TRMS-Hilfe).</p>
      <p class="MsoNormal">In diesem Fall werden das Initialisierungs- und das 
      Finalisierungs-Skript nicht ausgeführt.</p></td></tr>
  <tr>
    <td style="BORDER-TOP: medium none; BORDER-RIGHT: #a6a6a6 1pt solid; BORDER-BOTTOM: #a6a6a6 1pt solid; PADDING-BOTTOM: 2.85pt; PADDING-TOP: 2.85pt; PADDING-LEFT: 5.4pt; BORDER-LEFT: #a6a6a6 1pt solid; PADDING-RIGHT: 5.4pt" valign="top">
      <p class="MsoNormal">2</p></td>
    <td style="BORDER-TOP: medium none; BORDER-RIGHT: #a6a6a6 1pt solid; BORDER-BOTTOM: #a6a6a6 1pt solid; PADDING-BOTTOM: 2.85pt; PADDING-TOP: 2.85pt; PADDING-LEFT: 5.4pt; BORDER-LEFT: medium none; PADDING-RIGHT: 5.4pt" valign="top">
      <p class="MsoNormal">Initialisierungs-Skript</p></td>
    <td style="BORDER-TOP: medium none; BORDER-RIGHT: #a6a6a6 1pt solid; BORDER-BOTTOM: #a6a6a6 1pt solid; PADDING-BOTTOM: 2.85pt; PADDING-TOP: 2.85pt; PADDING-LEFT: 5.4pt; BORDER-LEFT: medium none; PADDING-RIGHT: 5.4pt" valign="top">
      <p class="MsoNormal">Wird ausgeführt, nachdem  das Prerequisite-Skript 
      ausgeführt wurde und bevor die Installation der Artefakte im 
      IKAROS-Zielsystem beginnt.</p></td>
    <td style="BORDER-TOP: medium none; BORDER-RIGHT: #a6a6a6 1pt solid; BORDER-BOTTOM: #a6a6a6 1pt solid; PADDING-BOTTOM: 2.85pt; PADDING-TOP: 2.85pt; PADDING-LEFT: 5.4pt; BORDER-LEFT: medium none; PADDING-RIGHT: 5.4pt" valign="top">
      <p class="MsoNormal">Erlaubt es, den Schritt der Artefakt-Installation zu 
      verhindern (durch Überspringen) und im Anschluss direkt das 
      Finalisierungs-Skript auszuführen.</p></td></tr>
  <tr>
    <td style="BORDER-TOP: medium none; BORDER-RIGHT: #a6a6a6 1pt solid; BORDER-BOTTOM: #a6a6a6 1pt solid; PADDING-BOTTOM: 2.85pt; PADDING-TOP: 2.85pt; PADDING-LEFT: 5.4pt; BORDER-LEFT: #a6a6a6 1pt solid; PADDING-RIGHT: 5.4pt" valign="top">
      <p class="MsoNormal">3</p></td>
    <td style="BORDER-TOP: medium none; BORDER-RIGHT: #a6a6a6 1pt solid; BORDER-BOTTOM: #a6a6a6 1pt solid; PADDING-BOTTOM: 2.85pt; PADDING-TOP: 2.85pt; PADDING-LEFT: 5.4pt; BORDER-LEFT: medium none; PADDING-RIGHT: 5.4pt" valign="top">
      <p class="MsoNormal">-</p></td>
    <td style="BORDER-TOP: medium none; BORDER-RIGHT: #a6a6a6 1pt solid; BORDER-BOTTOM: #a6a6a6 1pt solid; PADDING-BOTTOM: 2.85pt; PADDING-TOP: 2.85pt; PADDING-LEFT: 5.4pt; BORDER-LEFT: medium none; PADDING-RIGHT: 5.4pt" valign="top">
      <p class="MsoNormal">[Installation der Artefakte im 
IKAROS-Zielsystem]</p></td>
    <td style="BORDER-TOP: medium none; BORDER-RIGHT: #a6a6a6 1pt solid; BORDER-BOTTOM: #a6a6a6 1pt solid; PADDING-BOTTOM: 2.85pt; PADDING-TOP: 2.85pt; PADDING-LEFT: 5.4pt; BORDER-LEFT: medium none; PADDING-RIGHT: 5.4pt" valign="top">
      <p class="MsoNormal">-</p></td></tr>
  <tr>
    <td style="BORDER-TOP: medium none; BORDER-RIGHT: #a6a6a6 1pt solid; BORDER-BOTTOM: #a6a6a6 1pt solid; PADDING-BOTTOM: 2.85pt; PADDING-TOP: 2.85pt; PADDING-LEFT: 5.4pt; BORDER-LEFT: #a6a6a6 1pt solid; PADDING-RIGHT: 5.4pt" valign="top">
      <p class="MsoNormal">4</p></td>
    <td style="BORDER-TOP: medium none; BORDER-RIGHT: #a6a6a6 1pt solid; BORDER-BOTTOM: #a6a6a6 1pt solid; PADDING-BOTTOM: 2.85pt; PADDING-TOP: 2.85pt; PADDING-LEFT: 5.4pt; BORDER-LEFT: medium none; PADDING-RIGHT: 5.4pt" valign="top">
      <p class="MsoNormal">Finalisierungs-Skript</p></td>
    <td style="BORDER-TOP: medium none; BORDER-RIGHT: #a6a6a6 1pt solid; BORDER-BOTTOM: #a6a6a6 1pt solid; PADDING-BOTTOM: 2.85pt; PADDING-TOP: 2.85pt; PADDING-LEFT: 5.4pt; BORDER-LEFT: medium none; PADDING-RIGHT: 5.4pt" valign="top">
      <p class="MsoNormal">Wird als letzter Schritt des Transportprozesses 
      ausgeführt.</p>
      <p class="MsoNormal">Wird immer ausgeführt – außer der gesamte Transport 
      wurde im Prerequisite-Skript abgebrochen.</p></td>
    <td style="BORDER-TOP: medium none; BORDER-RIGHT: #a6a6a6 1pt solid; BORDER-BOTTOM: #a6a6a6 1pt solid; PADDING-BOTTOM: 2.85pt; PADDING-TOP: 2.85pt; PADDING-LEFT: 5.4pt; BORDER-LEFT: medium none; PADDING-RIGHT: 5.4pt" valign="top">
      <p class="MsoNormal">Kann mittels „trms.transportSuccessful“ prüfen, ob alle 
      Artefakte erfolgreich im Zielsystem installiert wurden (liefert false, 
      falls bei mindestens einem Artefakt ein Fehler aufgetreten ist).</p>
      <p class="MsoNormal">Es ist im Skript nicht möglich, die Installation der 
      Artefakte rückgängig zu machen.</p></td></tr></tbody></table>
<p class="berschriftEinfach">Technische Hinweise</p>
<p class="Aufzhlung1" style="tab-stops: 17.85pt"><img src="../ImagesExt/image10_1.png" alt="" />  Es ist nicht möglich, mit den Skripten 
Einfluss auf die eigentliche Installation einzelner Artefakte zu nehmen. Fehler 
oder Warnungen, die bei der Artefakt-Installation im IKAROS-System auftreten, 
können von den Skripten auch nicht ausgelesen werden.</p>
<p class="Aufzhlung1" style="tab-stops: 17.85pt"><img src="../ImagesExt/image10_1.png" alt="" />  Pro „trms4“-Paketdatei darf es derzeit 
jeweils genau ein Prerequisite-, ein Initialisierungs- und ein 
Finalisierungs-Skript geben. D. h. wenn Sie mehrere Changes, die jeweils eigene 
Transportkontrollskripte beinhalten, in einem Change Set bündeln möchten, könnte 
es zu Konflikten hinsichtlich der Skripte kommen. Stellen Sie in diesem Fall 
sicher, dass nur der übergeordnete Change Set solche Skripte umfasst.</p>
<p class="Aufzhlung1" style="tab-stops: 17.85pt"><img src="../ImagesExt/image10_1.png" alt="" />  In den trms4-Paketen sind die Skripte 
als einfache Textdateien mit den Namen „Prerequisite.cc4“, „Initialization.cc4“ 
und „Finalization.cc4“ auf oberster Ordnerebene enthalten, falls Skript-Code 
eingegeben wurde (im Artefaktpaket-Assistenten per 
„Bearbeiten“-Schaltfläche).</p>
<div style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 1pt; PADDING-TOP: 0pt; PADDING-LEFT: 0pt; BORDER-LEFT: medium none; MARGIN: 9pt 14.2pt 3pt 0pt; PADDING-RIGHT: 0pt">
<p class="berschriftEinfachGross" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">Ausführungskontext</p></div>
<p class="Aufzhlung1" style="tab-stops: 17.85pt"><img src="../ImagesExt/image10_1.png" alt="" />  <strong><span style="FONT-FAMILY: &quot;Segoe UI&quot;,sans-serif">Rückgabe</span></strong>: Eine 
Rückgabe benötigen die Skripte nicht und sie würde ignoriert.</p>
<p class="Aufzhlung1" style="tab-stops: 17.85pt"><img src="../ImagesExt/image10_1.png" alt="" />  <strong><span style="FONT-FAMILY: &quot;Segoe UI&quot;,sans-serif">Ausführungszeitpunkt</span></strong>: 
Der Code des <strong><span style="FONT-FAMILY: &quot;Segoe UI&quot;,sans-serif">Prerequisite</span></strong>-Skripts 
wird nach dem Start des Transportprozesses im Zielsystem ausgeführt, vor der 
Ausführung eines ggf. vorhandenen <strong><span style="FONT-FAMILY: &quot;Segoe UI&quot;,sans-serif">Initialisierungs</span></strong>-Skripts 
und bevor IKAROS mit der eigentlichen Installation der Artefakte beginnt. Der 
Code des <strong><span style="FONT-FAMILY: &quot;Segoe UI&quot;,sans-serif">Finalisierungs</span></strong>-Skripts 
wird immer zum Abschluss des Transports ausgeführt (sofern nicht der gesamte 
Transportprozess im Prerequisite-Skript bzw. durch einen Fehler abgebrochen 
wurde).</p>
<p class="Aufzhlung1" style="tab-stops: 17.85pt"><img src="../ImagesExt/image10_1.png" alt="" />  <strong><span style="FONT-FAMILY: &quot;Segoe UI&quot;,sans-serif">Ausführungsmodus</span></strong>: Der 
Skriptcode wird im IKAROS-Zielsystem immer mit RuntimeMode „RuntimeMode.batch“ 
ausgeführt. Benutzerinteraktion ist somit nicht möglich, Dialoge und Meldungen 
aus dem Code werden unterdrückt.</p>
<p class="berschriftEinfach">Transportabbruch, Transportverhinderung und 
Protokolleinträge</p>
<p class="Aufzhlung1" style="tab-stops: 17.85pt"><img src="../ImagesExt/image10_1.png" alt="" />  <strong><span style="FONT-FAMILY: &quot;Segoe UI&quot;,sans-serif">Transportabbruch</span></strong>: 
Wenn in einem Skript ein Fehler auftritt (unerwartet oder z. B. per „throw new 
Error()“ provoziert), wird der gesamte Transportprozess unmittelbar abgebrochen 
und ein technischer Fehler an das TRMS gemeldet. Auch das Finalisierungs-Skript 
läuft in diesem Fall <strong><span style="FONT-FAMILY: &quot;Segoe UI&quot;,sans-serif">nicht</span></strong>.</p>
<p class="Aufzhlung1" style="tab-stops: 17.85pt"><img src="../ImagesExt/image10_1.png" alt="" />  <strong><span style="FONT-FAMILY: &quot;Segoe UI&quot;,sans-serif">Installation der Artefakte 
verhindern</span></strong>: Die Installation der Artefakte kann mittels 
„<strong><span style="FONT-FAMILY: &quot;Segoe UI&quot;,sans-serif">trms.reportError()</span></strong>“ 
verhindert werden, ohne den Transportprozess im Ganzen durch einen Fehler 
abbrechen zu müssen. </p>
<p class="Einzug1">Wenn in einem Skript mindestens einmal „trms.reportError()“ 
ausgeführt wird, läuft das jeweilige Skript selbst bis zum Ende durch (sodass 
noch weitere Info- und Fehlereinträge aus Prüfungen protokolliert werden 
können).</p>
<p class="Aufzhlung2" style="tab-stops: 35.15pt"><span style="FONT-FAMILY: &quot;Arial&quot;,sans-serif">-     
</span>„trms.reportError()“ im <strong><span style="FONT-FAMILY: &quot;Segoe UI&quot;,sans-serif">Prerequisite-Skript</span></strong> 
signalisiert, dass der Transportprozess nach Skriptausführung beendet und somit 
kein Artefakt in das Zielsystem transportiert und auch die anderen 
Transportprotokollskripte nicht mehr ausgeführt werden sollen.</p>
<p class="Aufzhlung2" style="tab-stops: 35.15pt"><span style="FONT-FAMILY: &quot;Arial&quot;,sans-serif">-     
</span>„trms.reportError()“ im <strong><span style="FONT-FAMILY: &quot;Segoe UI&quot;,sans-serif">Initialisierungs-Skript</span></strong> 
bewirkt, dass die Installation der Artefakte übersprungen (also nicht 
durchgeführt) und im Anschluss noch das Finalisierungs-Skript durchlaufen 
wird.</p>
<p class="Aufzhlung2" style="tab-stops: 35.15pt"><span style="FONT-FAMILY: &quot;Arial&quot;,sans-serif">-     
</span>„trms.reportError()“ im <strong><span style="FONT-FAMILY: &quot;Segoe UI&quot;,sans-serif">Finalisierungs-Skript</span></strong> 
führt nur zu Fehlereinträgen im Protokoll, kann aber den Transport bzw. die 
Installation der Artefakte nicht mehr rückgängig machen.</p>
<p class="Aufzhlung1" style="tab-stops: 17.85pt"><img src="../ImagesExt/image10_1.png" alt="" />  <strong><span style="FONT-FAMILY: &quot;Segoe UI&quot;,sans-serif">Protokolleinträge</span></strong>: Um 
Rückmeldungen an das TRMS zu erzeugen, müssen Sie die Methoden 
„trms.reportInfo()“ oder „trms.reportError()“ ausführen; diese schreiben 
Einträge in das Transportprotokoll.</p>
<div style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 1pt; PADDING-TOP: 0pt; PADDING-LEFT: 0pt; BORDER-LEFT: medium none; MARGIN: 9pt 14.2pt 3pt 0pt; PADDING-RIGHT: 0pt">
<p class="berschriftEinfachGross" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">Bearbeitung des 
Skript-Codes</p></div>
<p class="MsoNormal">Im Artefaktpaket-Assistenten <a title="Der Artefaktpaket-Assistent im TRMS" class="topic-link" href="fs_95ffca161df8.html">[Link]</a> in den Menüpunkten „Pakete“, „Changes“ 
und „Change Sets“ können Sie auf der Registerkarte „Transportkontrollskripte“ 
auf die Schaltfläche „Bearbeiten“ für ein bestimmtes der drei Skripte klicken, 
um den dazugehörigen Custom Code in einem Bearbeitungsdialog zu öffnen.</p>
<div class="related-topics-header">
<hr size="1" noshade="" />

<p class="MsoBodyText">Themen:</p>
<div class="related-topics">
<p class="MsoNormal"><a class="topic-link" style="TEXT-DECORATION: none" href="fs_a684a04e034a.html">Programmiermöglichkeiten in 
Transportkontrollskripten</a></p>
<p class="MsoNormal"><a class="topic-link" style="TEXT-DECORATION: none" href="fs_50463acdbe7b.html">Bearbeitungsdialog für 
Transportkontrollskripte</a></p></div></div></body></html>
