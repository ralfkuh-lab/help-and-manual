<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Beispiel für ein Prerequisite-Skript zum Prüfen von Datenschutz-Zwecken</title>
<meta charset="utf-8" /><link rel="stylesheet" type="text/css" href="../LinksExt/TRMS.css" />
<script src="../js/nethelp.redirector.js" type="text/javascript"></script>
<link rel="prev" href="fs_a684a04e034a.html" /><link rel="next" href="fs_50463acdbe7b.html" />
<meta name="Generator" content="Doc-To-Help v.6.0.0.7152" />
</head>
<body data-c1-topic-id="ead6c732-f673-4aa2-846f-6cfd2fcf1856">
<h3 style="tab-stops: 0pt">Beispiel für ein Prerequisite-Skript zum Prüfen von 
Datenschutz-Zwecken</h3>
<p class="MsoNormal">Mit dem folgenden Beispiel-Code für ein Prerequisite-Skript 
wird geprüft, ob die Stammdaten für die Datenschutz-Zwecke „FoM“ (mit laufender 
Nummer 0) und „Inso9“ (mit laufender Nummer 23) im Zielsystem bereits vorhanden 
sind.</p>
<p class="MsoNormal">Der Transport wird nur durchgeführt, wenn beide Zwecke mit 
genau diesen Wertkombinationen bereits vorhanden sind (es werden 
Info-Protokolleinträge geschrieben, dass die Zwecke vorhanden sind). Falls einer 
fehlt oder die Werte in anderen Kombinationen existieren, werden 
Fehler-Protokolleinträge geschrieben und der Transport wird verhindert.</p>
<div style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 1pt; PADDING-TOP: 0pt; PADDING-LEFT: 0pt; BORDER-LEFT: medium none; MARGIN: 9pt 14.2pt 3pt 0pt; PADDING-RIGHT: 0pt">
<p class="berschriftEinfachGross" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt">Beispiel-Code für 
Prerequisite-Skript</p></div>
<div style="BORDER-TOP: windowtext 1pt solid; BORDER-RIGHT: windowtext 1pt solid; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 6pt; PADDING-TOP: 6pt; PADDING-LEFT: 6pt; BORDER-LEFT: windowtext 1pt solid; MARGIN: 3pt 5.65pt 3pt -1.3pt; PADDING-RIGHT: 6pt">
<p class="QuellcodeOhneFarbe" style="MARGIN: 0pt">/* provide the info about the 
purposes required for the transported artefacts<br />Note: package contents can 
not be read in Custom Code in a generic way.<br />Hence, the individual data must 
be stated in the script<br />*/<br />const requiredDataProtectionPurposes = 
[{serialNo: 0, code: 'FoM'}, {serialNo: 21, code: 'Sicher'}];<br />const 
purposesInTargetSystem = linq.execute('from purpose in @DpPurpose select new { 
serialNo = purpose.serialNo, code = purpose.code }').toList();<br />let 
requiredPurposesInTargetSystem;<br /><br />requiredDataProtectionPurposes.forEach(function(purposeInfo){<br />   
const requiredPurposesInTargetSystem = purposesInTargetSystem.filter(purpose 
=&gt; purpose.serialNo === 
purposeInfo.serialNo<br />      || 
purpose.code.toLowerCase() === purposeInfo.code.toLowerCase());<br />   
if (requiredPurposesInTargetSystem.length === 1) 
{<br />      if 
(requiredPurposesInTargetSystem.elementAt(0).code.toLowerCase() === 
purposeInfo.code.toLowerCase() &amp;&amp; 
requiredPurposesInTargetSystem.elementAt(0).serialNo === purposeInfo.serialNo) 
{<br />         trms.reportInfo(`The data 
protection purpose "${purposeInfo.code}" with serial number 
${purposeInfo.serialNo} already exists in the target 
system.`);<br />      } else 
{<br />         trms.reportError('The 
target system already contains a data protection purpose with the serial number 
"' <br />         + purposeInfo.serialNo + 
'" or the code "' + purposeInfo.code +  
<br />         '". However, the 
combination is not unique!');<br />      
}<br />   } else if(requiredPurposesInTargetSystem.length === 0) 
{<br />         trms.reportError('The 
required data protection purpose entries do not exist in the target 
system.');<br />   } else if(requiredPurposesInTargetSystem.length &gt; 
1) {<br />         trms.reportError('The 
data protection purpose "' + purposeInfo.code + '" or the serial number ' + 
purposeInfo.serialNo + ' were found. However, the combination is not 
unique!');<br />   }<br />});</p></div><span id="related-topics"></span></body></html>
